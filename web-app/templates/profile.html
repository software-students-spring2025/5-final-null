<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stall Street Journal - Profile</title>
  <style>
    body {
      background-color: #e3f0f9;
      margin: 0;
      padding: 0 30px;
    }

    header {
      background-color: #12365d;
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header h1 {
      margin: 0;
      font-weight: 800;
    }

    .top-buttons {
      display: flex;
      gap: 10px;
    }

    .top-buttons a {
      background-color: #76a66d;
      color: white;
      padding: 8px 14px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: 600;
    }

    main {
      display: flex;
      margin-top: 30px;
      gap: 40px;
    }

    .profile-content {
      flex: 2;
    }

    .badge {
      flex: 1;
      background-color: #fef5e7;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      font-weight: 600;
    }

    h2 {
      font-size: 24px;
      margin-top: 30px;
    }

    ul {
      list-style-type: none;
      padding-left: 0;
    }

    li {
      margin-bottom: 10px;
    }

    .status {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 12px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      margin-left: 10px;
    }

    .pending {
      background-color: #2d3e58;
    }

    .approved {
      background-color: #5bc0eb;
    }

    .denied {
      background-color: #4f2c2c;
    }
  </style>
</head>

<body>
  <header>
    <h1>Stall Street Journal</h1>
    <div class="top-buttons">
      <a href="{{ url_for('home') }}">Map</a>
      <a href="{{ url_for('logout') }}">Sign Out</a>
    </div>
  </header>

  <main>
    <div class="profile-content">
      <h2>Profile</h2>

      <h3>{{ bathroom_requests|length }} submitted Requests</h3>
      <ul>
        {% for bathroom in bathroom_requests %}
          <li>
            {{ bathroom.building }} {{ bathroom.floor }}F
            {% if bathroom.status %}
              <span class="status {% if bathroom.status == 'Pending' %}pending{% elif bathroom.status == 'Approved' %}approved{% elif bathroom.status == 'Denied' %}denied{% endif %}">
                {{ bathroom.status }}
              </span>
            {% else %}
              <span class="status pending">Pending...</span>
            {% endif %}
          </li>
        {% else %}
          <li>No submissions yet.</li>
        {% endfor %}
      </ul>
      


    <h3>{{ reviews|length }} ratings across campus</h3>
    <ul>
    {% for review in reviews %}
        <li>Bathroom ID: {{ review.bathroom_id }}</li>
    {% else %}
        <li>No reviews yet.</li>
    {% endfor %}
    </ul>




    </div>

    <div class="badge">
      You are a:<br>
      <h2>Level 1</h2>
      Flusher
    </div>
  </main>
</body>
</html>
